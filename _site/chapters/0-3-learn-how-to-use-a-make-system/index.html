<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="alternate" type="application/rss+xml" title="Easy and fast Programming guide For C" href="/feed.xml">

	<meta property="og:site_name" content="Easy and fast Programming guide For C" />
	<meta property="og:title" content="0.3 - Learn how to use a build system" />
	<meta property="og:image" content="http://localhost:4000/preview.jpg" />
	<meta property="og:description" content="A build system is a software that reads a file that contains instructions of how the program need to be compiled, this is useful for control, autom..." />
	<meta property="og:url" content="http://localhost:4000/chapters/0-3-learn-how-to-use-a-make-system/" />
	<meta property="og:type" content="website" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="0.3 - Learn how to use a build system" />
	<meta name="twitter:description" content="A build system is a software that reads a file that contains instructions of how the program need to be compiled, this is useful for control, autom..." />
	<meta name="twitter:image" content="http://localhost:4000/preview.jpg" />
	
	<meta name="jk:jekylltheme" content="ItsZariep/Tessera" />
	
	<title>0.3 - Learn how to use a build system | Easy and fast Programming guide For C</title>
	<link rel="stylesheet" href="/assets/css/style.css">
	<link rel="stylesheet" href="/assets/css/custom.css">

	<link rel="icon" href="/favicon.ico">
</head>

<body>
		<!-- Top Pane (Navbar?) -->

<div class="toppanel">
		<!-- Left side of the pane, usually only has a title or logo -->
	<div class="tp-left">
	<a href="/"><img class="tp-banner" src="/assets/img/banner.svg" width="100%" /></a>
		<!--<h1>Easy and fast Programming guide For C</h1> -->
	</div>

	<!-- Burger menu using checkbox hack (for mobile, without using JS) -->
	<input type="checkbox" id="burger-toggle" class="burger-checkbox">
	<label for="burger-toggle" class="burger-menu">
		<span></span>
		<span></span>
		<span></span>
	</label>

	<!-- Right side of the pane, usually has the navigation buttons, this example also has sub-elements -->
	<div class="tp-right" id="mobile-menu">
		<ul class="tp-nav">
			<li><a href="/">Home</a></li>
			<li><a href="/about/about">About</a></li>
		</ul>
	</div>
</div>

	<main>
		<div id="main-container">
	<!-- Right Pane -->

<!-- You can remove or replace any section if required, copying _includes/rightpane.html on your page -->

<div id="left-container">

<!-- Banner Image or title-->
<!-- This image is displayed at the top of the right pane. -->

	<div class="rp-banner" >
	<a href="/"><img width="90%" src="/assets/img/banner-c2.svg" /></a>
	</div>
<!--	<h1 class="rp-banner">Easy and fast Programming guide For C</h1>-->

	<!-- Search Form -->
	<!-- A simple GET form that allows users to perform a search query. -->
	<!-- The search input is sent to the '/search' route. -->
<!--
		<div id="search-container" data-baseurl=""  class="search-box">
	<input type="text" class="search-input" placeholder="Search...">
	<ul class="search-results"></ul>
</div>
<script src="/assets/js/search.js"></script>
-->
	<!-- Entries Section -->
	<!-- Displays a list of recent blog posts. -->
<!--
	<h2>Pages</h2>
-->

	
	

	<div class="postlist">
		<ul>
			
			<li>
				<strong></strong>
				<ul>
				
					<li><a href="/chapters/0-intro/">Intro</a></li>
				
				</ul>
			</li>
			
			<li>
				<strong>0 - Prepare your system</strong>
				<ul>
				
					<li><a href="/chapters/0-1-install-and-configure-an-ide/">0.1 - Installing an IDE</a></li>
				
					<li><a href="/chapters/0-2-install-and-configure-a-compiler/">0.2 - Install and configure a compiler</a></li>
				
					<li><a href="/chapters/0-3-learn-how-to-use-a-make-system/">0.3 - Learn how to use a build system</a></li>
				
					<li><a href="/chapters/0-4-debugging-tools/">0.4 - Debugging tools</a></li>
				
				</ul>
			</li>
			
			<li>
				<strong>1 - Getting started</strong>
				<ul>
				
					<li><a href="/chapters/1-1-variables-data-types-and-arithmetic-operators/">1.1 - Variables, data types, and arithmetic operators</a></li>
				
					<li><a href="/chapters/1-2-basic-control-structure/">1.2 - Basic control structure</a></li>
				
					<li><a href="/chapters/1-3-compiler-directives/">1.3 - Compiler directives</a></li>
				
				</ul>
			</li>
			
			<li>
				<strong>2 - First Programs</strong>
				<ul>
				
					<li><a href="/chapters/2-1-hello-world-in-c/">2.1 - Hello world in C</a></li>
				
					<li><a href="/chapters/2-2-complicating-the-hello-world/">2.2 - Complicating the Hello World</a></li>
				
				</ul>
			</li>
			
			<li>
				<strong>3 - Basic functions and data structures</strong>
				<ul>
				
					<li><a href="/chapters/3-1-using-data-types/">3.1 - Using data types</a></li>
				
				</ul>
			</li>
			
		</ul>
	</div>
</div>
	<!-- Tags -->
<div class="post">
	<div class="post-postcategories">
		<h3>
		
		</h3>
	</div>

	<div class="post-posttitle">
		<h1>0.3 - Learn how to use a build system</h1>
	</div>

	<div class="post-postdate">
		<h3></h3>
	</div>

	<div class="post-postcontent">
	<div class="post-img">
		
			<img src="/preview.jpg" alt="0.3 - Learn how to use a build system" />
		
	</div>

	<p>A build system is a software that reads a file that contains instructions of how the program need to be compiled, this is useful for control, automation and ease of other users to compile your software, also, there are some popular build systems:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Ninja</td>
      <td>A small build system with a focus on speed</td>
    </tr>
    <tr>
      <td>Meson</td>
      <td>Fast and user friendly build system, written in Python</td>
    </tr>
    <tr>
      <td>GNU Make</td>
      <td>Simple and traditional build system</td>
    </tr>
  </tbody>
</table>

<p>For newbies, the “simpliest” make system may be GNU Make, there is a overview of the make systems displayed on the table:</p>

<h2 id="ninja">Ninja</h2>

<p>Ninja is a small build system with a focus on speed. It is designed to have its input files generated by other programs and is not typically written by hand. but is not hard to use only ninja.</p>

<h3 id="basic-concepts">Basic Concepts</h3>

<ul>
  <li><strong>build.ninja</strong>: The main file containing build rules and dependencies.</li>
  <li><strong>rule</strong>: Defines a command that Ninja can execute.</li>
  <li><strong>build</strong>: Specifies how to generate an output file from input files using a rule.</li>
</ul>

<h3 id="basic-buildninja-file">Basic build.ninja File</h3>

<pre><code class="language-ninja"># This is a comment
# build.ninja example for a simple C program

# Define a rule named 'cc' for compiling C files
rule cc
  command = gcc -c $in -o $out
  description = Compiling $in

# Define a rule named 'link' for linking object files
rule link
  command = gcc $in -o $out
  description = Linking $out

# Use the 'cc' rule to build main.o from main.c
build main.o: cc main.c

# Use the 'cc' rule to build hello.o from hello.c
build hello.o: cc hello.c

# Use the 'link' rule to build hello from main.o and hello.o
build hello: link main.o hello.o

# Define a default target
default hello
</code></pre>

<h3 id="building-the-project">Building the Project</h3>

<p>To build the project, run:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ninja
</code></pre></div></div>
<p>Ninja will read the <code class="language-plaintext highlighter-rouge">build.ninja</code> file and execute the necessary commands to build the <code class="language-plaintext highlighter-rouge">hello</code> target.</p>

<p>For more detailed information, refer to the <a href="https://ninja-build.org/manual.html">official Ninja documentation</a>.</p>

<h2 id="gnu-make">GNU Make</h2>

<p>GNU Make is a build automation tool that automatically builds executable programs and libraries from source code by reading files called Makefiles which specify how to derive the target program.</p>

<h3 id="basic-concepts-1">Basic Concepts</h3>
<ul>
  <li><strong>Targets</strong>: What you want to build (e.g., executable files).</li>
  <li><strong>Dependencies</strong>: Files that are used to create the targets.</li>
  <li><strong>Commands</strong>: Shell commands used to build the targets from the dependencies.</li>
</ul>

<h3 id="simple-makefile-example">Simple Makefile Example</h3>
<div class="language-make highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># This is a comment
# Makefile for a simple C program
</span>
<span class="c"># Variables
</span><span class="nv">CC</span> <span class="o">=</span> gcc   <span class="c">#Compiler</span>
<span class="nv">CFLAGS</span> <span class="o">=</span> <span class="nt">-Wall</span> <span class="nt">-g</span>   <span class="c">#Compiler flags/arguments</span>
<span class="nv">TARGET</span> <span class="o">=</span> myprogram  <span class="c">#Final executable file </span>
<span class="nv">OBJS</span> <span class="o">=</span> main.o utils.o <span class="c">#Objects</span>

<span class="c"># Default target
</span><span class="nl">all</span><span class="o">:</span> <span class="nf">$(TARGET)</span>

<span class="c"># Linking the target executable
</span><span class="nl">$(TARGET)</span><span class="o">:</span> <span class="nf">$(OBJS)</span>
    <span class="err">$(CC)</span> <span class="err">$(CFLAGS)</span> <span class="err">-o</span> <span class="err">$(TARGET)</span> <span class="err">$(OBJS)</span>

<span class="c"># Compiling source files to object files
</span><span class="nl">main.o</span><span class="o">:</span> <span class="nf">main.c</span>
    <span class="err">$(CC)</span> <span class="err">$(CFLAGS)</span> <span class="err">-c</span> <span class="err">main.c</span>

<span class="nl">utils.o</span><span class="o">:</span> <span class="nf">utils.c</span>
    <span class="err">$(CC)</span> <span class="err">$(CFLAGS)</span> <span class="err">-c</span> <span class="err">utils.c</span>

<span class="c"># Clean up the build files
</span><span class="nl">clean</span><span class="o">:</span>
    <span class="err">rm</span> <span class="err">-f</span> <span class="err">$(TARGET)</span> <span class="err">$(OBJS)</span>
</code></pre></div></div>

<h3 id="steps-to-use-gnu-make">Steps to Use GNU Make</h3>

<ol>
  <li><strong>Create a Makefile</strong>:
    <ul>
      <li>Create a file named <code class="language-plaintext highlighter-rouge">Makefile</code> in your project directory.</li>
    </ul>
  </li>
  <li><strong>Define Variables</strong>:
    <ul>
      <li>Variables like <code class="language-plaintext highlighter-rouge">CC</code> for the compiler, <code class="language-plaintext highlighter-rouge">CFLAGS</code> for compiler flags, <code class="language-plaintext highlighter-rouge">TARGET</code> for the output file, and <code class="language-plaintext highlighter-rouge">OBJS</code> for object files can be defined to simplify the makefile and make it easier to maintain.</li>
    </ul>
  </li>
  <li><strong>Specify the Default Target</strong>:
    <ul>
      <li>The first target in the Makefile is the default target, usually named <code class="language-plaintext highlighter-rouge">all</code>. This is what runs when you type <code class="language-plaintext highlighter-rouge">make</code> without any arguments.</li>
    </ul>
  </li>
  <li><strong>Define Targets and Dependencies</strong>:
    <ul>
      <li>Specify what files need to be built (targets) and what files are required to build them (dependencies).</li>
    </ul>
  </li>
  <li><strong>Write Commands</strong>:
    <ul>
      <li>Commands to build the targets should be prefixed with a tab character.</li>
    </ul>
  </li>
  <li><strong>Add Clean Target</strong>:
    <ul>
      <li>A <code class="language-plaintext highlighter-rouge">clean</code> target is useful to remove generated files, enabling a fresh build.</li>
    </ul>
  </li>
</ol>

<h3 id="running-make">Running Make</h3>
<ul>
  <li><strong>Build the default target</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div>    </div>
  </li>
  <li><strong>Build a specific target</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make target_name
</code></pre></div>    </div>
  </li>
  <li><strong>Clean the build files</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make clean
</code></pre></div>    </div>
  </li>
</ul>

<p>This is a overview of the use of GNU Make, for more information, please refer to the <a href="https://www.gnu.org/software/make/manual/make.html">GNU Make Manual</a>.</p>

<h2 id="meson">Meson</h2>

<p>Meson is a modern build system designed to be both fast and user-friendly. Unlike GNU Make, Meson typically uses Ninja as the backend to perform the actual build process, although it can also generate build files for other systems like Visual Studio and Xcode. Meson uses a high-level build description file (meson.build) to define the build process.</p>

<h3 id="basic-concepts-2">Basic concepts</h3>
<ul>
  <li><strong>Project</strong>: Defines the overall project and its properties.</li>
  <li><strong>Targets</strong>: These are the output artifacts like executables, libraries, or other files.</li>
  <li><strong>Sources</strong>: The input source files that are compiled to create the targets.</li>
  <li><strong>Dependencies</strong>: External libraries or tools required for building the project.</li>
</ul>

<h3 id="simple-project-setup">Simple project setup</h3>

<ul>
  <li><strong>Create <code class="language-plaintext highlighter-rouge">meson.build</code> File</strong>:
    <div class="language-meson highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">project</span><span class="p">(</span><span class="s">'myproject'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">)</span>

 <span class="nb">executable</span><span class="p">(</span><span class="s">'myprogram'</span><span class="p">,</span> <span class="s">'main.c'</span><span class="p">,</span> <span class="s">'utils.c'</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="building-the-project-1">Building the Project</h3>
<ol>
  <li><strong>Create a Build Directory and Run Meson</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>meson setup builddir
</code></pre></div>    </div>
  </li>
  <li><strong>Compile the Project with Ninja</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>meson compile <span class="nt">-C</span> builddir
</code></pre></div>    </div>
  </li>
  <li><strong>Run the Program</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./builddir/myprogram
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="detailed-meson-build-file">Detailed Meson Build File</h3>
<p>Here’s an extended example with more features:</p>

<div class="language-meson highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">project</span><span class="p">(</span><span class="s">'myproject'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">)</span>

<span class="c1"># Define build options
</span><span class="nb">add_global_arguments</span><span class="p">(</span><span class="s">'-Wall'</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="s">'c'</span><span class="p">)</span>

<span class="c1"># Specify the executable target
</span><span class="nb">executable</span><span class="p">(</span><span class="s">'myprogram'</span><span class="p">,</span> <span class="p">[</span><span class="s">'main.c'</span><span class="p">,</span> <span class="s">'utils.c'</span><span class="p">])</span>

<span class="c1"># Adding an optional library
</span><span class="n">libmath</span> <span class="o">=</span> <span class="nb">dependency</span><span class="p">(</span><span class="s">'m'</span><span class="p">,</span> <span class="n">required</span><span class="p">:</span> <span class="k">false</span><span class="p">)</span>
<span class="k">if</span> <span class="n">libmath</span><span class="p">.</span><span class="n">found</span><span class="p">()</span>
    <span class="nb">message</span><span class="p">(</span><span class="s">'libm found'</span><span class="p">)</span>
    <span class="nb">executable</span><span class="p">(</span><span class="s">'myprogram'</span><span class="p">,</span> <span class="s">'main.c'</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">:</span> <span class="n">libmath</span><span class="p">)</span>
<span class="k">else</span>
    <span class="nb">message</span><span class="p">(</span><span class="s">'libm not found'</span><span class="p">)</span>
<span class="k">endif</span>

<span class="c1"># Subdirectories (for larger projects)
</span><span class="nb">subdir</span><span class="p">(</span><span class="s">'src'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="adding-a-subdirectory">Adding a Subdirectory</h3>
<ul>
  <li><strong>Directory Structure</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>myproject/
├── src/
│   ├── module.c
│   └── module.h
├── meson.build
├── main.c
├── utils.c
└── utils.h
</code></pre></div>    </div>
  </li>
  <li><strong>Subdirectory <code class="language-plaintext highlighter-rouge">meson.build</code> File</strong> (<code class="language-plaintext highlighter-rouge">src/meson.build</code>):
    <div class="language-meson highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="s">'module.c'</span><span class="p">]</span>
<span class="nb">library</span><span class="p">(</span><span class="s">'mylib'</span><span class="p">,</span> <span class="n">sources</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Main <code class="language-plaintext highlighter-rouge">meson.build</code> File</strong>:
    <div class="language-meson highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">project</span><span class="p">(</span><span class="s">'myproject'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">)</span>

<span class="nb">add_global_arguments</span><span class="p">(</span><span class="s">'-Wall'</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="s">'c'</span><span class="p">)</span>

<span class="nb">subdir</span><span class="p">(</span><span class="s">'src'</span><span class="p">)</span>

<span class="nb">executable</span><span class="p">(</span><span class="s">'myprogram'</span><span class="p">,</span> <span class="p">[</span><span class="s">'main.c'</span><span class="p">,</span> <span class="s">'utils.c'</span><span class="p">],</span>
    <span class="n">link_with</span><span class="p">:</span> <span class="nb">library</span><span class="p">(</span><span class="s">'mylib'</span><span class="p">,</span> <span class="s">'src/module.c'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="useful-commands">Useful Commands</h3>
<ul>
  <li><strong>Configure with Options</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>meson setup builddir <span class="nt">--buildtype</span><span class="o">=</span>release
</code></pre></div>    </div>
  </li>
  <li><strong>Reconfigure the Build Directory</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>meson configure builddir
</code></pre></div>    </div>
  </li>
  <li><strong>Clean the Build Directory</strong>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>meson compile <span class="nt">-C</span> builddir <span class="nt">--clean</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>For more details, please refer to the <a href="https://mesonbuild.com/">Meson Documentation</a></p>

	</div>

	<div class="post-postcategoriesbottom">
		<h3>
		
		</h3>
	<a href="#scrolltotop" class="scrolltotop"></a>
	</div>

	<hr class="endseparator">
		<!--Your personal box at the end of each post-->

<div class="userbox">
	<img class="userpic" src="/assets/img/authors/ItsZariep.webp" alt="Avatar">
	<div class="userbox-content">
		<h1>ItsZariep</h1>
	</div>
</div>
<br>
		<div class="btnshare">
	<input type="checkbox" id="toggleshare" />
	<label for="toggleshare">Share this page</label>
	<input class="urlshare" type="text" readonly value="http://localhost:4000/chapters/0-3-learn-how-to-use-a-make-system/" />
</div>

		
</div>
		<!-- User box and comments are included on postcontent.html-->
	

</div>

	</main>
		<!-- Bottom Pane (Footer?) -->

<!-- You can remove or replace any section if required, copying _includes/bottompane.html on your page -->

<div class="bottompane">
	<div class="bp-left">
		<p>&copy; 2025 Easy and fast Programming guide For C</p>
	</div>
	<div class="bp-right">
		<p>Powered by <a href="https://github.com/itszariep/tessera">Tessera</a> for Jekyll</p>
	</div>
</div>
</body>
</html>
